{% extends 'base.html' %}
{% block title %}Inicio{% endblock %}

{% block content %}
<div class="card-main-header">
    <div>
        <h1 class="text-accent fw-semibold mb-1">Bienvenido a la Bodega</h1>
        {% if user.rol == 'ADMIN' %}
            <p class="card-main-lead">
                EstÃ¡s en el panel de <span class="text-accent-2">AdministraciÃ³n</span>. 
                Desde aquÃ­ gestionas docentes, materiales y usuarios del sistema.
            </p>
        {% elif user.rol == 'PANOL' %}
            <p class="card-main-lead">
                EstÃ¡s en el panel de <span class="text-accent-2">PaÃ±ol</span>. 
                AquÃ­ registras prÃ©stamos y consultas el historial de movimientos.
            </p>
        {% else %}
            <p class="card-main-lead">
                Tu usuario aÃºn no tiene un rol definido. Contacta al administrador del sistema.
            </p>
        {% endif %}
    </div>

    {% if user.rol %}
        <div class="badge-role">
            Rol actual: <strong>{{ user.get_rol_display }}</strong>
        </div>
    {% endif %}
</div>

<hr class="mb-3" style="border-color: rgba(148,163,184,0.4);">

{% if user.rol == 'ADMIN' %}
    <h5 class="mb-2 text-muted">Accesos rÃ¡pidos</h5>
    <div class="menu-grid">
        <a href="{% url 'docente_list' %}" class="tile-btn">
            <div class="tile-icon">ğŸ‘¨â€ğŸ«</div>
            <div class="tile-title">Docentes</div>
            <div class="tile-sub">Crear, editar y administrar docentes.</div>
            <span class="pill-tag">GestiÃ³n acadÃ©mica</span>
        </a>

        <a href="{% url 'material_list' %}" class="tile-btn">
            <div class="tile-icon">âš™ï¸</div>
            <div class="tile-title">Materiales</div>
            <div class="tile-sub">Control de stock y estado de los recursos.</div>
            <span class="pill-tag">Inventario</span>
        </a>

        <a href="{% url 'admin_user_list' %}" class="tile-btn">
            <div class="tile-icon">ğŸ§‘â€ğŸ’¼</div>
            <div class="tile-title">Administradores</div>
            <div class="tile-sub">Gestiona quiÃ©n administra el sistema.</div>
            <span class="pill-tag">Usuarios Â· Admin</span>
        </a>

        <a href="{% url 'panol_user_list' %}" class="tile-btn">
            <div class="tile-icon">ğŸ”§</div>
            <div class="tile-title">Usuarios de paÃ±ol</div>
            <div class="tile-sub">Controla quiÃ©n puede registrar prÃ©stamos.</div>
            <span class="pill-tag">Usuarios Â· PaÃ±ol</span>
        </a>
    </div>

{% elif user.rol == 'PANOL' %}
    <h5 class="mb-2 text-muted">Accesos rÃ¡pidos</h5>
    <div class="menu-grid">
        <a href="{% url 'registrar_prestamo' %}" class="tile-btn">
            <div class="tile-icon">â•</div>
            <div class="tile-title">Registrar prÃ©stamo</div>
            <div class="tile-sub">Entrega de materiales a docentes con control de stock.</div>
            <span class="pill-tag">OperaciÃ³n</span>
        </a>

        <a href="{% url 'prestamo_list' %}" class="tile-btn">
            <div class="tile-icon">ğŸ“„</div>
            <div class="tile-title">Ver prÃ©stamos</div>
            <div class="tile-sub">Consulta el historial de prÃ©stamos realizados.</div>
            <span class="pill-tag">Historial</span>
        </a>
    </div>

{% else %}
    <div class="alert alert-warning mt-3">
        No tienes un rol asignado actualmente. Inicia sesiÃ³n como administrador y asigna un rol desde la gestiÃ³n de usuarios.
    </div>
{% endif %}
{% endblock %}
